package dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import org.apache.commons.dbcp2.BasicDataSource;

public class MembersDAO {
	private BasicDataSource bds = new BasicDataSource();
	
	public MembersDAO() {
		bds.setUrl("jdbc:oracle:thin:@localhost:1521:xe"); 
		bds.setUsername("board");
		bds.setPassword("board");
		bds.setInitialSize(5);
	}
	
	private Connection getConnection() throws Exception {
		return bds.getConnection();
		
	}
	
	public int insert() throws Exception {
		String sql = "INSERT INTO MEMBERS VALUES(?,?,?,?,sysdate) ";
		Connection con = bds.getConnection();
		PreparedStatement pstat = con.prepareStatement(sql);
		pstat.setString(1, id);
		pstat.setString(2, pw);
		pstat.setString(3, name);
		pstat.setString(4, contact);
	}
}
